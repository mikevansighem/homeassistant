###############################################################################
# GENERAL
###############################################################################

# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

# Inclusions
group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml
binary_sensor: !include binary_sensor.yaml
climate: !include climate.yaml
alarm_control_panel: !include alarm_control_panel.yaml
media_player: !include media_player.yaml
utility_meter: !include utility_meter.yaml
sensor: !include sensor.yaml
recorder: !include recorder.yaml
shell_command: !include shell_command.yaml

# Enable themes
frontend:
  themes: !include_dir_merge_named themes

# Include customization file
homeassistant:
  customize: !include customize.yaml

# Limit login attempts
http:
  ip_ban_enabled: true
  login_attempts_threshold: 5

# Text to speech
tts:
  - platform: google_translate

###############################################################################
# INPUT SELECT
###############################################################################

input_select:

  # Manual override for house state
  house_state_override:
    name: House state override
    options:
      - auto
      - home
      - away
      - night
      - holiday
    initial: auto
    icon: mdi:home

  # Manual override for climate state
  climate_period_override:
    name: Climate period override
    options:
      - auto
      - morning
      - day
      - evening
      - night
    initial: auto
    icon: mdi:home-thermometer

###############################################################################
# INPUT NUMBER
###############################################################################

input_number:

  # Volume for alarm
  alarm_volume:
    name: Alarm volume
    icon: mdi:volume-high
    initial: 1
    min: 0
    max: 1
    step: 0.1
    mode: slider

  # Volume for pending and arming beep
  aux_volume:
    name: Aux volume
    icon: mdi:volume-medium
    initial: 0.4
    min: 0
    max: 1
    step: 0.1
    mode: slider

###############################################################################
# INPUT BOOLEAN
###############################################################################

input_boolean:

  quiet:
    name: Quiet
    icon: mdi:volume-off

  holiday:
    name: Holiday
    icon: mdi:beach

  first_down:
    name: First down
    icon: mdi:motion-sensor

###############################################################################
# LOGGER
###############################################################################

logger:
  default: debug
  logs:
    pychromecast.socket_client: fatal
    homeassistant.components.webhook: error
    
    filters:
    # Ignore messages from the alarm panel
      homeassistant.components.zha.core.channels.base:
        - ".*received command get_panel_status"
        - ".*Arming all IAS ACE zones"
        - ".*Disarming all IAS ACE zones"
      

###############################################################################
# ZIGBEE
###############################################################################

zha:
  zigpy_config:
    network:
      channel: 20

###############################################################################
# PRECENCE
###############################################################################

proximity:
  home_mike:
    zone: home
    devices:
      - device_tracker.sm_g960f
      - device_tracker.ping_phone_mike
    tolerance: 50
    unit_of_measurement: km
  home_anneloes:
    zone: home
    devices:
      - device_tracker.sm_a202f
      - device_tracker.ping_phone_anneloes
    tolerance: 50
    unit_of_measurement: km

# Presence based on ping
device_tracker:
  - platform: ping
    hosts:
      ping_phone_mike: 192.168.2.11
      ping_phone_anneloes: 192.168.2.27
